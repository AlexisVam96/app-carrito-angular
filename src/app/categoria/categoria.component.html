<app-header  ></app-header>

<section class="container">
  <ul class="alert alert-danger" *ngIf="errores?.length > 0">
    <li *ngFor="let err of errores">
      {{ err }}
    </li>
  </ul>

  <div class="card bg-default mt-4">
    <div class="card-header">
      <h3>{{titulo}}</h3 >
    </div>
    <div class="card-body">
      <div class="row">
        <div class="col-sm-6">
          <form>
            <div class="form-group">
              <label for="nombre" class="col-form-label col-sm">Nombre</label>
              <div class="col-sm">
                <input type="text" class="form-control" [(ngModel)]="categoria.nombre" name="nombre">
              </div>
            </div>
            <div class="form-group mt-3">
              <div class="col-sm">
                <button class="btn btn-success" role="button" (click)="create()" *ngIf="!categoria.id else elseBlock">Crear</button>
                <ng-template #elseBlock>
                  <button class="btn btn-success" role="button" (click)="update()">Editar</button>
                </ng-template>
              </div>

            </div>
          </form>
        </div>
        <div class="col-sm-6">
          <div class="alert alert-info" *ngIf="categorias?.length==0">
            No hay registro en la base de datos!
          </div>

          <table class="table text-white">
            <thead>
              <th>nombre</th>
              <th>acciones</th>
            </thead>
            <tbody>
              <tr *ngFor="let categoria of categorias">
                <td>{{categoria.nombre}}</td>
                <td>
                  <button type="button" name="button" [routerLink]="['/categorias/form', categoria.id]" class="mx-1 btn btn-warning" style="border-radius:50%;"><i class="far fa-edit"></i></button>
                  <button type="button" name="button" (click)="delete(categoria)" class=" mx-1 btn btn-danger"><i class="fas fa-trash-alt"></i></button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

    </div>
  </div>

</section>



